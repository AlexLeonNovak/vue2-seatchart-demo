import{d as f,n as _,r as i,w as b,o as g,P as x,a as y,u as C,b as k,E as z}from"./index.677f66c5.js";const $={cart:{visible:!1},legendVisible:!1,map:{rows:10,columns:10,seatTypes:{default:{label:"Economy",cssClass:"economy",price:15},first:{label:"First Class",cssClass:"first-class",price:25,seatRows:[0,1,2]},reduced:{label:"Reduced",cssClass:"reduced",price:10,seatRows:[7,8,9]}},disabledSeats:[{row:0,col:0},{row:0,col:9}],reservedSeats:[{row:0,col:3},{row:0,col:4}],selectedSeats:[{row:0,col:5},{row:0,col:6}],rowSpacers:[3,7],columnSpacers:[5]}},D=f({__name:"ControlButtons",emits:["button-pan","button-zoom","button-home"],setup(l,{emit:n}){return{__sfc:!0,emit:n}}});var S=function(){var n=this,e=n._self._c,o=n._self._setupProxy;return e("div",{staticClass:"controll__buttons",on:{dblclick:function(t){t.stopPropagation()},mousedown:function(t){t.stopPropagation()}}},[e("ul",{staticClass:"controll"},[e("li",{staticClass:"controll__item controll__item--circle"},[e("ul",{staticClass:"controll__pan controll__item--circle__inner"},[e("li",{staticClass:"controll__pan__up controll__item--circle__inner__up"},[e("a",{on:{mousedown:function(t){return o.emit("button-pan",{x:0,y:1},!0)},mouseup:function(t){return o.emit("button-pan",{x:0,y:0},!1)},mouseleave:function(t){return o.emit("button-pan",{x:0,y:0},!1)},touchstart:function(t){return t.stopPropagation(),o.emit("button-pan",{x:0,y:1},!0)},touchend:function(t){return o.emit("button-pan",{x:0,y:0},!1)},contextmenu:function(t){t.preventDefault()}}},[e("svg",{staticClass:"feather feather-chevron-up",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[e("polyline",{attrs:{points:"18 15 12 9 6 15"}})])])]),e("li",{staticClass:"controll__pan__right controll__item--circle__inner__right"},[e("a",{on:{mousedown:function(t){return o.emit("button-pan",{x:-1,y:0},!0)},mouseup:function(t){return o.emit("button-pan",{x:0,y:0},!1)},mouseleave:function(t){return o.emit("button-pan",{x:0,y:0},!1)},touchstart:function(t){return t.stopPropagation(),o.emit("button-pan",{x:-1,y:0},!0)},touchend:function(t){return o.emit("button-pan",{x:0,y:0},!1)},contextmenu:function(t){t.preventDefault()}}},[e("svg",{staticClass:"feather feather-chevron-right",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[e("polyline",{attrs:{points:"9 18 15 12 9 6"}})])])]),e("li",{staticClass:"controll__pan__down controll__item--circle__inner__down"},[e("a",{on:{mousedown:function(t){return o.emit("button-pan",{x:0,y:-1},!0)},mouseup:function(t){return o.emit("button-pan",{x:0,y:0},!1)},mouseleave:function(t){return o.emit("button-pan",{x:0,y:0},!1)},touchstart:function(t){return t.stopPropagation(),o.emit("button-pan",{x:0,y:-1},!0)},touchend:function(t){return o.emit("button-pan",{x:0,y:0},!1)},contextmenu:function(t){t.preventDefault()}}},[e("svg",{staticClass:"feather feather-chevron-down",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[e("polyline",{attrs:{points:"6 9 12 15 18 9"}})])])]),e("li",{staticClass:"controll__pan__left controll__item--circle__inner__left"},[e("a",{on:{mousedown:function(t){return o.emit("button-pan",{x:1,y:0},!0)},mouseup:function(t){return o.emit("button-pan",{x:0,y:0},!1)},mouseleave:function(t){return o.emit("button-pan",{x:0,y:0},!1)},touchstart:function(t){return t.stopPropagation(),o.emit("button-pan",{x:1,y:0},!0)},touchend:function(t){return o.emit("button-pan",{x:0,y:0},!1)},contextmenu:function(t){t.preventDefault()}}},[e("svg",{staticClass:"feather feather-chevron-left",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[e("polyline",{attrs:{points:"15 18 9 12 15 6"}})])])])])]),e("li",{staticClass:"controll__home controll__item controll__item--list-item"},[e("a",{on:{click:function(t){return o.emit("button-home")},touchend:function(t){return o.emit("button-home")}}},[e("svg",{staticClass:"feather feather-minimize-2",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[e("polyline",{attrs:{points:"4 14 10 14 10 20"}}),e("polyline",{attrs:{points:"20 10 14 10 14 4"}}),e("line",{attrs:{x1:"14",y1:"10",x2:"21",y2:"3"}}),e("line",{attrs:{x1:"3",y1:"21",x2:"10",y2:"14"}})])])]),e("li",{staticClass:"controll__zoom-in controll__item controll__item--list-item"},[e("a",{on:{mousedown:function(t){return o.emit("button-zoom",1,!0)},click:function(t){return t.preventDefault(),o.emit("button-zoom",1,!0)},mouseup:function(t){return o.emit("button-zoom",0,!1)},mouseleave:function(t){return o.emit("button-zoom",0,!1)},touchstart:function(t){return t.stopPropagation(),o.emit("button-zoom",1,!0)},touchend:function(t){return o.emit("button-zoom",1,!1)},contextmenu:function(t){t.preventDefault()}}},[e("svg",{staticClass:"feather feather-zoom-in",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[e("circle",{attrs:{cx:"11",cy:"11",r:"8"}}),e("line",{attrs:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}}),e("line",{attrs:{x1:"11",y1:"8",x2:"11",y2:"14"}}),e("line",{attrs:{x1:"8",y1:"11",x2:"14",y2:"11"}})])])]),e("li",{staticClass:"controll__zoom-in controll__item controll__item--list-item"},[e("a",{on:{mousedown:function(t){return o.emit("button-zoom",-1,!0)},click:function(t){return t.preventDefault(),o.emit("button-zoom",-1,!0)},mouseup:function(t){return o.emit("button-zoom",0,!1)},mouseleave:function(t){return o.emit("button-zoom",0,!1)},touchstart:function(t){return t.stopPropagation(),o.emit("button-zoom",-1,!0)},touchend:function(t){return o.emit("button-zoom",-1,!1)},contextmenu:function(t){t.preventDefault()}}},[e("svg",{staticClass:"feather feather-zoom-out",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[e("circle",{attrs:{cx:"11",cy:"11",r:"8"}}),e("line",{attrs:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}}),e("line",{attrs:{x1:"8",y1:"11",x2:"14",y2:"11"}})])])])])])},P=[],R=_(D,S,P,!1,null,"58373045",null,null);const B=R.exports,E=f({__name:"PanZoom",props:{selector:{type:String},zoom:{type:Number,default:1}},setup(l){const n=l,e=i(),o=i(),t=i(),u=i(),p=()=>{var s,r;(s=t.value)==null||s.reset(),(r=t.value)==null||r.zoom(n.zoom)},c=s=>{var r;return(r=t.value)==null?void 0:r.zoomWithWheel(s)},m=s=>{var r;return(r=t.value)==null?void 0:r.handleDown(s)},v=s=>{var r,a;console.log(s),s===1&&((r=t.value)==null||r.zoomIn()),s===-1&&((a=t.value)==null||a.zoomOut())};return b(()=>n.zoom,()=>{var s;isNaN(n.zoom)||(s=t.value)==null||s.zoom(n.zoom)}),g(()=>{var r;if(!o.value||!e.value){console.error("No init");return}let s=o.value;n.selector&&(s=o.value.querySelector(n.selector)),(r=u.value)==null||r.appendChild(s),t.value=x(u.value,{animate:!0,overflow:"unset"})}),{__sfc:!0,props:n,wrapperRef:e,contentRef:o,pzInstanceRef:t,transformContainer:u,onHome:p,onWheel:c,onDown:m,onZoom:v,ControlButtons:B}}});var M=function(){var n=this,e=n._self._c,o=n._self._setupProxy;return e("div",{ref:"wrapperRef",staticClass:"pz-wrapper"},[e("div",{staticClass:"pz-container",on:{wheel:o.onWheel,pointerdown:o.onDown}},[e(o.ControlButtons,{on:{"button-home":o.onHome,"button-zoom":o.onZoom}}),e("div",{staticClass:"pz-scene-wrapper"},[e("div",{ref:"transformContainer",staticClass:"pz-scene"})])],1),e("div",{ref:"contentRef",staticClass:"pz-content"},[n._t("default")],2)])},j=[],N=_(E,M,j,!1,null,"b00f8487",null,null);const O=N.exports,V=f({__name:"ModalDialog",props:{show:{type:Boolean,default:!1}},emits:["update:show"],setup(l,{emit:n}){const e=t=>{t.key==="Escape"&&o()},o=()=>{n("update:show",!1)};return g(()=>{document.addEventListener("keyup",e)}),y(()=>{document.removeEventListener("keyup",e)}),{__sfc:!0,emits:n,handleClose:e,hideDialog:o}}});var W=function(){var n=this,e=n._self._c,o=n._self._setupProxy;return n.show?e("div",{staticClass:"dialog",on:{click:o.hideDialog}},[e("div",{staticClass:"dialog__content",on:{click:function(t){t.stopPropagation()}}},[e("span",{staticClass:"btn close",on:{click:o.hideDialog}},[n._v("\xD7")]),n._t("default")],2)]):n._e()},F=[],Z=_(V,W,F,!1,null,"f6da933e",null,null);const q=Z.exports,H=f({__name:"ModalView",setup(l){const{isTablet:n,isDesktop:e}=C(),o=i(),t=i(null),u=i(!1),p=()=>u.value=!0,c=()=>u.value=!1,m=()=>{var a;t.value=(a=o.value)==null?void 0:a.checkoutCart(),c()},v=a=>{console.log("SubmitEvent",JSON.stringify(a,null,4))},s=i(.3),r=i();return k(()=>{var d;const a=(d=r.value)==null?void 0:d.$el;if(a&&"querySelector"in a){const h=a.querySelector(".sc-map"),w=a.querySelector(".pz-wrapper .pz-container");s.value=Math.min(w.offsetWidth/h.offsetWidth,w.offsetHeight/h.offsetHeight)}}),{__sfc:!0,isTablet:n,isDesktop:e,seatChartRef:o,checkoutDetailsRef:t,dialogVisible:u,showDialog:p,hideDialog:c,onCheckout:m,onSubmit:v,scale:s,dialog:r,ModalDialog:q,PanZoom:O,SeatChart:z,simpleOptions:$}}});var T=function(){var n=this,e=n._self._c,o=n._self._setupProxy;return e("div",{staticClass:"content"},[e("div",{staticClass:"preview"},[e("div",{staticClass:"btn-block"},[e("button",{staticClass:"btn",on:{click:o.showDialog}},[n._v("Show dialog")])]),o.checkoutDetailsRef?e("pre",[e("code",[n._v(n._s(JSON.stringify(o.checkoutDetailsRef,null,2)))])]):n._e()]),e(o.ModalDialog,{ref:"dialog",attrs:{show:o.dialogVisible},on:{"update:show":o.hideDialog}},[o.isTablet?e(o.PanZoom,{staticClass:"zoom-wrapper",attrs:{selector:".sc-map",zoom:o.scale}},[e(o.SeatChart,{ref:"seatChartRef",attrs:{options:o.simpleOptions},on:{"cart:submit":o.onSubmit}})],1):n._e(),o.isDesktop?e(o.SeatChart,{ref:"seatChartRef",attrs:{options:o.simpleOptions},on:{"cart:submit":o.onSubmit}}):n._e(),e("div",{staticClass:"dialog__footer"},[e("button",{staticClass:"btn",on:{click:o.onCheckout}},[n._v("Checkout")])])],1)],1)},I=[],J=_(H,T,I,!1,null,"057c29f0",null,null);const U=J.exports;export{U as default};
